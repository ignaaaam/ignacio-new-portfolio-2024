---
// Define props
interface Props {
  url: string;
  title: string;
  description: string;
  hashtags?: string;
  className?: string;
}

const { url, title, hashtags = "", className = "" } = Astro.props;

// Get the encoded values for sharing
const encodedUrl = encodeURIComponent(url);
const encodedTitle = encodeURIComponent(title);
// Remove unused variable
// const encodedDescription = encodeURIComponent(description);
const encodedHashtags = encodeURIComponent(hashtags);

// Create sharing URLs
const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}`;
const twitterUrl = `https://twitter.com/intent/tweet?url=${encodedUrl}&text=${encodedTitle}&hashtags=${encodedHashtags}`;
const linkedinUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodedUrl}`;
const whatsappUrl = `https://wa.me/?text=${encodedTitle}%20${encodedUrl}`;
const telegramUrl = `https://t.me/share/url?url=${encodedUrl}&text=${encodedTitle}`;

---

<div class={`social-share-container ${className}`}>
  <p class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Compartir / Share:</p>
  <div class="flex flex-wrap gap-2">
    <!-- Facebook -->
    <a 
      href={facebookUrl} 
      target="_blank" 
      rel="noopener noreferrer"
      class="social-share-button bg-[#1877f2] hover:bg-[#0d65d9] p-1.5 rounded-full transition-all"
      aria-label="Share on Facebook"
      title="Share on Facebook"
    >
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-facebook text-white w-4 h-4" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3"></path>
      </svg>
    </a>

    <!-- Twitter/X -->
    <a 
      href={twitterUrl} 
      target="_blank" 
      rel="noopener noreferrer"
      class="social-share-button bg-black hover:bg-gray-800 p-1.5 rounded-full transition-all"
      aria-label="Share on X (Twitter)"
      title="Share on X (Twitter)"
    >
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-x text-white w-4 h-4" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M4 4l11.733 16h4.267l-11.733 -16z"></path>
        <path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772"></path>
      </svg>
    </a>

    <!-- LinkedIn -->
    <a 
      href={linkedinUrl} 
      target="_blank" 
      rel="noopener noreferrer"
      class="social-share-button bg-[#0077b5] hover:bg-[#005e8c] p-1.5 rounded-full transition-all"
      aria-label="Share on LinkedIn"
      title="Share on LinkedIn"
    >
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-linkedin text-white w-4 h-4" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"></path>
        <path d="M8 11l0 5"></path>
        <path d="M8 8l0 .01"></path>
        <path d="M12 16l0 -5"></path>
        <path d="M16 16v-3a2 2 0 0 0 -4 0"></path>
      </svg>
    </a>

    <!-- WhatsApp -->
    <a 
      href={whatsappUrl} 
      target="_blank" 
      rel="noopener noreferrer"
      class="social-share-button bg-[#25d366] hover:bg-[#20bd5a] p-1.5 rounded-full transition-all"
      aria-label="Share on WhatsApp"
      title="Share on WhatsApp"
    >
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-whatsapp text-white w-4 h-4" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M3 21l1.65 -3.8a9 9 0 1 1 3.4 2.9l-5.05 .9"></path>
        <path d="M9 10a.5 .5 0 0 0 1 0v-1a.5 .5 0 0 0 -1 0v1a5 5 0 0 0 5 5h1a.5 .5 0 0 0 0 -1h-1a.5 .5 0 0 0 0 1"></path>
      </svg>
    </a>

    <!-- Telegram -->
    <a 
      href={telegramUrl} 
      target="_blank" 
      rel="noopener noreferrer"
      class="social-share-button bg-[#0088cc] hover:bg-[#006da3] p-1.5 rounded-full transition-all"
      aria-label="Share on Telegram"
      title="Share on Telegram"
    >
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-telegram text-white w-4 h-4" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M15 10l-4 4l6 6l4 -16l-18 7l4 2l2 6l3 -4"></path>
      </svg>
    </a>
  </div>
</div>

<style>
  .social-share-container {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }
  
  .social-share-button {
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    box-shadow: 0 1px 3px rgba(0,0,0,0.15);
  }
  
  .social-share-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
  }
  
  .social-share-button:active {
    transform: translateY(0);
  }
</style> 